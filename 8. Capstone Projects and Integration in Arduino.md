# Module 8 Lecture: Capstone Projects and Integration in Arduino üåüü§ñ
ü§ñ **Instructor:** Md. Hassanul Karim Roni, Assistant Professor, EEE, HSTU, Dinajpur, BD

## üöÄ Projects You'll Build Today
- **Choose Your Capstone:** Pick from an IoT Weather Station, Autonomous Robot, Smart Plant Watering System, Health Monitoring Wearable, or Home Security System!  
- **Showcase Your Skills:** Integrate sensors, actuators, displays, and even TinyML for cutting-edge projects. Ready to build something epic and present it like a pro? Let‚Äôs do this!

---

## üéØ Lecture Objectives
- Master project planning: define requirements, design circuits, and architect code.  
- Explore advanced integrations: TinyML for machine learning, OLED displays, and audio outputs.  
- Learn troubleshooting and iterative development for robust projects.  
- Build and present a capstone project that showcases all course skills.  

**Duration:** ~10 hours (spread over Weeks 8-12, 2 hours lecture + 8 hours lab/project work).  
**Tools Needed:** Arduino Uno or Nano 33 BLE Sense (for TinyML), USB cable, DHT11, HC-SR04, LDR, pulse sensor, PIR sensor, SG90 servo, DC motors, L298N driver, OLED SSD1306, buzzer, SD card module, ESP8266 WiFi module, 220Œ©/10kŒ© resistors, breadboard, jumper wires, 9V battery with TP4056 module, laptop with Arduino IDE, ThingSpeak account, Edge Impulse account (for TinyML), optional: Tinkercad Circuits.  

---

## üõ†Ô∏è Why Capstone Projects and Integration Matter
This module is your chance to shine! By combining sensors, actuators, communication, and optimization from previous modules, you‚Äôll build a complete, real-world project. Advanced integrations like TinyML add intelligence, while planning and troubleshooting ensure professional-grade results. Your capstone will be a portfolio piece to impress peers, professors, or employers! üöÄ

---

## üìö Capstone Projects and Integration Concepts

### 1Ô∏è‚É£ Project Planning
Effective planning ensures your project is feasible, organized, and successful.  
- **Requirements:** Define inputs (e.g., sensors), outputs (e.g., actuators), and goals (e.g., cloud dashboard).  
  - Example: IoT Weather Station needs DHT11 (temp/humidity), ESP8266 (WiFi), and ThingSpeak integration.  
- **Circuit Design:** Sketch schematic, assign pins, ensure power compatibility.  
  - Tools: Fritzing, Tinkercad, or paper sketches.  
  - Example: Map DHT11 to pin 2, ESP8266 to pins 10/11, OLED to I2C (A4/A5).  
- **Code Architecture:** Plan modular functions (e.g., `readSensors()`, `updateDisplay()`, `sendToCloud()`).  
  ```c
  void readSensors() { /* Read DHT11, LDR */ }
  void updateDisplay() { /* Update OLED */ }
  void sendToCloud() { /* Send to ThingSpeak */ }
  ```
- **Checklist:**  
  - Hardware compatibility (e.g., 3.3V for ESP8266).  
  - SRAM usage (<2KB for Uno).  
  - Power budget (external supply for motors).  

**Arduino Tip:** Use a project timeline (e.g., Week 8: Design, Week 9: Build, Week 10: Code, Week 11: Test, Week 12: Present).

---

### 2Ô∏è‚É£ Advanced Integrations
Push your project to the next level with these techniques:

#### TinyML (Machine Learning)
- **Purpose:** Add intelligence (e.g., gesture recognition) using TensorFlow Lite Micro on Nano 33 BLE Sense.  
- **Tool:** Edge Impulse (`https://edgeimpulse.com`) for training and deploying ML models.  
- **Example: Gesture Recognition**
  ```c
  #include <TensorFlowLite.h>
  #include "model.h" // Trained model from Edge Impulse
  tflite::MicroInterpreter* interpreter;
  void setup() {
    // Initialize model
  }
  void loop() {
    // Read accelerometer, classify gesture
  }
  ```
- **Process:** Collect data (e.g., accelerometer), train model on PC, export to Arduino.

#### OLED Displays (SSD1306)
- **Purpose:** Show sensor data visually via I2C.  
- **Library:** `Adafruit_SSD1306.h`.  
- **Example:**
  ```c
  #include <Adafruit_SSD1306.h>
  Adafruit_SSD1306 display(128, 64, &Wire);
  void setup() {
    display.begin(SSD1306_SWITCHCAPVCC, 0x3C); // I2C address
    display.print("Temp: 25C");
    display.display();
  }
  ```
- **Diagram Description:** OLED SDA to A4, SCL to A5, VCC to 3.3V/5V, GND to GND.

#### Audio (Buzzer Tones)
- **Purpose:** Generate alerts or feedback with `tone(pin, frequency, duration)`.  
- **Example:**
  ```c
  const int buzzerPin = 8;
  void setup() {
    tone(buzzerPin, 1000, 500); // 1000Hz for 500ms
  }
  ```

**Technical Note:** TinyML models use ~100KB Flash; OLEDs consume ~500 bytes SRAM. Test compatibility before combining.

---

### 3Ô∏è‚É£ Troubleshooting and Iteration
Build robust projects by catching and fixing issues:  
- **Common Issues:**  
  - Wiring errors (use multimeter or Tinkercad).  
  - SRAM overflow (monitor in IDE).  
  - Library conflicts (check pin assignments).  
- **Debugging:**  
  - Use `Serial.print()` for variable states.  
  - Add LED blinks for error codes (e.g., 2 blinks = sensor fail).  
  - Test subsystems separately (e.g., sensor, then actuator).  
- **Iteration:**  
  - Start simple (e.g., read sensor), then add features (e.g., cloud).  
  - Refine based on testing (e.g., adjust thresholds).  

**Arduino Tip:** Keep a logbook of errors and fixes to improve future projects.

---

### 4Ô∏è‚É£ Capstone Projects
Choose one project to showcase your skills. Each integrates sensors, actuators, communication, and optimization.

| Project                      | Components Needed                              | Key Features                              |
|------------------------------|-----------------------------------------------|-------------------------------------------|
| **IoT Weather Station**      | DHT11, ESP8266, OLED SSD1306, SD card module | Cloud dashboard (ThingSpeak), local display |
| **Autonomous Robot**         | HC-SR04, IR sensors, L298N, DC motors, chassis | Obstacle avoidance, line following        |
| **Smart Plant Watering**     | Soil moisture sensor, relay, water pump       | Auto-watering, low-power mode             |
| **Health Wearable**          | Pulse sensor, OLED, Nano 33 BLE Sense        | Heart rate tracking, TinyML for anomalies |
| **Home Security System**     | PIR, buzzer, ESP8266                         | Motion alerts via WiFi, audio feedback    |

**Project Plan Example (IoT Weather Station):**  
- **Requirements:** Measure temp/humidity, log to SD, send to ThingSpeak, display on OLED.  
- **Circuit:** DHT11 (pin 2), ESP8266 (pins 10/11), OLED (A4/A5), SD (SPI pins).  
- **Code:** Modular functions for sensor reading, logging, cloud upload, display.  
- **Optimization:** Use `PROGMEM` for strings, sleep mode when idle.  

---

## üñåÔ∏è Lab: Capstone Project Development üõ†Ô∏è
**Goal:** Build your chosen capstone project (e.g., IoT Weather Station) with full integration of sensors, actuators, displays, and communication.  
**Components (Example: IoT Weather Station):** Arduino Uno, DHT11, ESP8266, OLED SSD1306, SD card module, 10kŒ© resistor, 220Œ© resistor, breadboard, jumper wires, 5V external power.  
**Circuit Setup (Weather Station):**  
- DHT11: Data to pin 2, VCC to 5V, GND to GND, 10kŒ© pull-up.  
- ESP8266: TX to pin 10, RX to pin 11, VCC to 3.3V, GND to GND.  
- OLED: SDA to A4, SCL to A5, VCC to 5V, GND to GND.  
- SD Card: MOSI to 11, MISO to 12, SCLK to 13, CS to 10, VCC to 5V, GND to GND.  
**Circuit Diagram Description:** DHT11 to pin 2 with pull-up; ESP8266 to pins 10/11; OLED to I2C; SD to SPI.  
**Code Outline:**  
- Use `DHT.h`, `ESP8266WiFi.h`, `ThingSpeak.h`, `Adafruit_SSD1306.h`, `SD.h`.  
- Read DHT11 data (`dht.readTemperature()`).  
- Log to SD card (`SD.open()`, `SD.println()`).  
- Send to ThingSpeak (`ThingSpeak.writeField()`).  
- Display on OLED (`display.print()`).  
- Add error handling (`isnan()` for DHT11) and sleep mode.  

**Safety Note:** Use 3.3V for ESP8266; ensure stable power for multiple modules.  

**Tinkercad Alternative:** Simulate sensors and OLED (WiFi/SD limited).  

**Challenge:** Add TinyML (Nano 33 BLE Sense) for anomaly detection or buzzer alerts for thresholds.

---

## üîç Key Concepts Recap
| Concept            | Description                              | Arduino Example                     |
|--------------------|------------------------------------------|-------------------------------------|
| **Project Planning** | Define requirements, circuits, code      | Modular functions, Fritzing schematic |
| **TinyML**         | Add machine learning                     | Edge Impulse for gesture recognition |
| **OLED Displays**  | Visual data output                      | `Adafruit_SSD1306.h` for data      |
| **Troubleshooting** | Debug and iterate                      | `Serial.print()`, LED error codes  |
| **Capstone**       | Full system integration                 | IoT Weather Station with cloud     |

**Technical Notes:**  
- **SRAM Limits:** Multiple libraries (e.g., `ThingSpeak` + `SSD1306`) use ~1.5KB; monitor with `freeRam()`.  
- **Power:** External 5V/3.3V supply for ESP8266, OLED, SD.  
- **TinyML:** Nano 33 BLE Sense has 256KB SRAM, 1MB Flash for ML models.  

---

## üéØ Summary & Takeaways
- **Plan Smart:** Requirements, circuits, and modular code ensure success.  
- **Advanced Features:** TinyML, OLEDs, and audio add wow-factor to projects.  
- **Troubleshoot Like a Pro:** Debug systematically and iterate for reliability.  
- **Capstone Power:** Your project showcases all course skills in one package.  
- **Next Steps:** Polish your project and prepare a killer presentation!  

**Quick Tip:** Start with a minimal version of your project, then add features iteratively to avoid overwhelm!  

---

## üìö Resources & Homework
- **Reference:** `https://www.arduino.cc/reference/en/` (check `Wire`, `SD`, `tone`).  
- **Tutorials:** Edge Impulse TinyML (`https://docs.edgeimpulse.com`), Adafruit OLED (`https://learn.adafruit.com/monochrome-oled-breakouts`).  
- **Video Tutorial:** Search ‚ÄúArduino IoT Weather Station‚Äù on YouTube.  
- **Homework:**  
  1. Choose and build your capstone project (or simulate parts in Tinkercad).  
  2. Submit a project plan (requirements, circuit, code outline) by Week 9.  
  3. Complete and test your project by Week 11; prepare a 5-minute presentation for Week 12.  
  4. Bonus: Add TinyML or audio feedback. Submit code, schematics, and demo video/screenshots!  

**Shine Bright!** You‚Äôre building a professional-grade project. Questions? Let‚Äôs brainstorm and make it epic! üòÑ
