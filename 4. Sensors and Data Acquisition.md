# Module 4 Lecture: Sensors and Data Acquisition in Arduino üå°Ô∏èüì°
ü§ñ **Instructor:** Md. Hassanul Karim Roni, Assistant Professor, EEE, HSTU, Dinajpur, BD

## üöÄ Projects You'll Build Today
- **Temperature Monitoring System with Alerts:** Create a system that sounds a buzzer when it gets too hot using a DHT11 sensor!  
- **Bonus Challenge:** Combine light and temperature sensors to trigger alerts only in specific conditions. Curious? Let‚Äôs make it happen!  

---

## üéØ Lecture Objectives
- Understand different sensor types and their applications.  
- Learn to read and process sensor data using Arduino.  
- Master Serial communication for debugging and data display.  
- Use libraries to simplify sensor integration.  
- Build a temperature monitoring system with alerts to apply your skills.  

**Duration:** ~3 hours (1.5 hours lecture + 1.5 hours lab, split over Weeks 4-5).  
**Tools Needed:** Arduino Uno, USB cable, DHT11 or DHT22 sensor, HC-SR04 ultrasonic sensor, LDR (photocell), PIR sensor, buzzer, 220Œ© resistor, 10kŒ© resistors, breadboard, jumper wires, laptop with Arduino IDE, optional: Tinkercad Circuits.  

---

## üõ†Ô∏è Why Sensors and Data Acquisition Matter
Sensors let your Arduino ‚Äúsense‚Äù the world‚Äîtemperature, distance, light, or motion. By reading and processing sensor data, you can create responsive systems like smart thermostats or motion-activated alarms. Arduino‚Äôs C/C++ code, combined with libraries, makes this easy, but you‚Äôll need to handle noise, calibration, and memory constraints. Let‚Äôs turn data into action! üìä

---

## üìö Sensors and Data Acquisition Concepts

### 1Ô∏è‚É£ Types of Sensors
Sensors convert physical phenomena into electrical signals. Here‚Äôs a rundown of common ones for Arduino:

| Sensor        | Measures                     | Output Type | Arduino Pins | Use Case                     |
|---------------|------------------------------|-------------|--------------|------------------------------|
| **DHT11/DHT22** | Temperature & Humidity      | Digital     | Any digital  | Weather stations, HVAC       |
| **HC-SR04**    | Distance (2-400 cm)         | Digital     | 2 digital (Trig, Echo) | Robotics, obstacle detection |
| **LDR (Photocell)** | Light intensity          | Analog      | Any analog   | Light-based automation       |
| **PIR**        | Motion (human/animal)       | Digital     | Any digital  | Security systems, automation |

**Technical Notes:**
- **DHT11 vs. DHT22:** DHT11 is cheaper (0-50¬∞C, 20-80% humidity), DHT22 is more accurate (-40-80¬∞C, 0-100% humidity).  
- **HC-SR04:** Uses sound waves; accuracy depends on temperature and surface.  
- **LDR:** Resistance decreases with light; pair with a 10kŒ© resistor for voltage divider.  
- **PIR:** Detects infrared changes; adjustable sensitivity/delay.

---

### 2Ô∏è‚É£ Reading Sensor Data
- **Digital Sensors:** Use `digitalRead()` for binary signals (e.g., PIR motion detection).  
- **Analog Sensors:** Use `analogRead()` for 0-1023 values (e.g., LDR).  
- **Special Protocols:** DHT11/22 and HC-SR04 use custom timing or libraries for data extraction.  

**Example: Reading LDR**
```c
int ldrPin = A0;
void loop() {
  int lightValue = analogRead(ldrPin); // 0-1023
  float voltage = lightValue * (5.0 / 1023.0); // Convert to volts
}
```

**Diagram Description:** LDR in series with 10kŒ© resistor (voltage divider), middle to A0, one end to 5V, other to GND.

---

### 3Ô∏è‚É£ Basic Signal Processing
Raw sensor data often needs cleaning or conversion:  
- **Scaling:** Convert raw values to meaningful units (e.g., analogRead 0-1023 to ¬∞C).  
  ```c
  float tempC = (analogRead(A0) * 5.0 / 1023.0) * 100.0 - 50.0; // For TMP36
  ```
- **Averaging:** Smooth noisy data with a moving average.  
  ```c
  int readings[5];
  int readIndex = 0;
  float total = 0, average = 0;
  void loop() {
    total -= readings[readIndex];
    readings[readIndex] = analogRead(A0);
    total += readings[readIndex];
    readIndex = (readIndex + 1) % 5;
    average = total / 5;
  }
  ```
- **Thresholding:** Trigger actions based on conditions.  
  ```c
  if (analogRead(A0) > 500) { digitalWrite(buzzerPin, HIGH); }
  ```

**Arduino Tip:** Use `map(value, fromLow, fromHigh, toLow, toHigh)` to scale sensor data (e.g., 0-1023 to 0-100).

---

### 4Ô∏è‚É£ Serial Communication for Debugging
The Serial Monitor is your window into Arduino‚Äôs brain! üñ•Ô∏è  
- **Functions:**  
  - `Serial.begin(baud)`: Start Serial at baud rate (e.g., 9600).  
  - `Serial.print(value)`: Print data.  
  - `Serial.println(value)`: Print with newline.  
  - `Serial.available()`: Check for incoming data.  
  - `Serial.read()`: Read incoming byte.  
- **Setup:** In Arduino IDE, open Serial Monitor (`Tools > Serial Monitor`, set to 9600 baud).  

**Example:**
```c
void setup() {
  Serial.begin(9600);
}
void loop() {
  int sensorValue = analogRead(A0);
  Serial.print("Sensor: ");
  Serial.println(sensorValue);
  delay(500);
}
```

**Technical Note:** Serial uses pins 0 (RX) and 1 (TX) on Uno. Avoid using these for other tasks.

---

### 5Ô∏è‚É£ Using Libraries
Libraries simplify sensor integration by providing pre-written functions.  
- **Install:** In Arduino IDE, go to `Sketch > Include Library > Manage Libraries`, search for library (e.g., `DHT`).  
- **Example: DHT Library**
```c
#include <DHT.h>
#define DHTPIN 2
#define DHTTYPE DHT11
DHT dht(DHTPIN, DHTTYPE);
void setup() {
  dht.begin();
}
void loop() {
  float temp = dht.readTemperature();
  float hum = dht.readHumidity();
}
```

**Common Libraries:**
| Sensor   | Library       | Source                     |
|----------|---------------|----------------------------|
| DHT11/22 | `DHT.h`       | Adafruit (Library Manager) |
| HC-SR04  | `NewPing.h`   | Library Manager            |
| PIR      | None (direct) | `digitalRead()`            |
| LDR      | None (direct) | `analogRead()`             |

**Arduino Tip:** Always check library documentation for pin setup and example code.

---

## üñåÔ∏è Lab: Temperature Monitoring System with Alerts üå°Ô∏èüö®
**Goal:** Build a system that monitors temperature with a DHT11 sensor and triggers a buzzer if it exceeds a threshold (e.g., 30¬∞C). Display data on Serial Monitor.  
**Components:** Arduino Uno, DHT11 sensor, buzzer, 10kŒ© resistor (for DHT11), 220Œ© resistor (for buzzer), breadboard, jumper wires.  
**Circuit Setup:**  
- DHT11: Data pin to pin 2, VCC to 5V, GND to GND, 10kŒ© pull-up resistor between data and VCC.  
- Buzzer: Positive to pin 8, negative to GND via 220Œ© resistor.  
**Circuit Diagram Description:** DHT11 data pin to Arduino pin 2 with pull-up resistor; buzzer on pin 8 with resistor to GND.  
**Code Outline:**  
- Include `DHT.h` library.  
- Read temperature with `dht.readTemperature()`.  
- Use `if` to check threshold and control buzzer.  
- Print data to Serial Monitor.  

**Safety Note:** Check DHT11 voltage (3.3V/5V). Resistor protects buzzer from overcurrent.  

**Tinkercad Alternative:** Simulate with DHT11 and LED (instead of buzzer).  

**Challenge:** Add a second threshold for low temperature (e.g., <20¬∞C) with a different buzzer pattern.

---

## üîç Key Concepts Recap
| Concept            | Description                              | Arduino Example                     |
|--------------------|------------------------------------------|-------------------------------------|
| **Sensors**        | Measure physical phenomena               | DHT11 for temp/humidity            |
| **Data Acquisition** | Read analog/digital signals            | `analogRead(A0)` for LDR           |
| **Signal Processing** | Clean/convert data                   | Average readings, map to units     |
| **Serial**         | Debug and display data                  | `Serial.println(temp)`             |
| **Libraries**      | Simplify sensor code                    | `DHT.h` for DHT11/22              |

**Technical Notes:**  
- **DHT11 Timing:** Requires ~2s delay between readings.  
- **HC-SR04 Accuracy:** Affected by temperature; use `NewPing.h` for reliability.  
- **SRAM Usage:** Libraries like `DHT.h` use ~200 bytes; monitor in IDE.  

---

## üéØ Summary & Takeaways
- **Sensors Unlock the World:** From temperature to motion, sensors bring real data to Arduino.  
- **Data Processing is Key:** Scale, average, or threshold data for meaningful actions.  
- **Serial is Your Friend:** Use Serial Monitor to debug and visualize sensor outputs.  
- **Libraries Save Time:** Leverage pre-written code for complex sensors.  
- **Hands-On Wins:** The temperature alert system shows how sensors drive decisions.  

**Quick Tip:** Always test sensor circuits in Tinkercad to catch wiring errors!  

---

## üìö Resources & Homework
- **Reference:** `https://www.arduino.cc/reference/en/` (check `Serial`, `analogRead`).  
- **Library Docs:** Adafruit DHT tutorial (`https://learn.adafruit.com/dht`).  
- **Video Tutorial:** Search ‚ÄúArduino DHT11 Tutorial‚Äù on YouTube.  
- **Homework:**  
  1. Build the temperature monitoring system with DHT11 and buzzer (or simulate in Tinkercad).  
  2. Add Serial output to display temperature and humidity every 2 seconds.  
  3. Bonus: Use an LDR to trigger the buzzer only in low light. Submit code/screenshots!  

**Keep Sensing!** You‚Äôre now capturing real-world data. Next week, we‚Äôll control actuators like motors and relays. Questions? Let‚Äôs dive in! üòÑ
